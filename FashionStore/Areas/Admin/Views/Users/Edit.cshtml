@model FashionStore.Models.Users
@{
    Layout = "~/Areas/Admin/Views/Shared/_AdminLayout.cshtml";
    ViewBag.Title = "Sửa thông tin người dùng";
}

@section breadcrumb {
    <li class="breadcrumb-item">
        <a href="@Url.Action("Index", "Users", new { area = "Admin" })">Người dùng</a>
    </li>
    <li class="breadcrumb-item active">Sửa thông tin</li>
}

<div class="card shadow-sm border-0">
    <div class="card-header bg-warning text-dark fw-semibold">
        <i class="fa-solid fa-user-pen me-2"></i> Sửa thông tin người dùng
    </div>
    <div class="card-body">
        @using (Html.BeginForm("Edit", "Users", FormMethod.Post, new { area = "Admin", @class = "needs-validation", novalidate = "novalidate" }))
        {
            @Html.AntiForgeryToken()
            @Html.HiddenFor(m => m.Id)

            @Html.ValidationSummary(true, "", new { @class = "text-danger" })

            <div class="mb-3">
                @Html.LabelFor(m => m.Username, new { @class = "form-label fw-semibold" })
                @Html.TextBoxFor(m => m.Username, new { @class = "form-control", placeholder = "Nhập tên đăng nhập" })
                @Html.ValidationMessageFor(m => m.Username, "", new { @class = "text-danger" })
            </div>

            <div class="mb-3">
                @Html.LabelFor(m => m.PasswordHash, "Mật khẩu", new { @class = "form-label fw-semibold" })
                @Html.PasswordFor(m => m.PasswordHash, new { @class = "form-control", placeholder = "Nhập mật khẩu mới (nếu đổi)" })
                @Html.ValidationMessageFor(m => m.PasswordHash, "", new { @class = "text-danger" })
            </div>

            <div class="mb-3">
                @Html.LabelFor(m => m.Role, "Vai trò", new { @class = "form-label fw-semibold" })
                @Html.DropDownListFor(m => m.Role,
                    new SelectList(new[] {
                        new { Value = "Customer", Text = "Customer" },
                        new { Value = "Admin", Text = "Admin" }
                    }, "Value", "Text", Model.Role),
                    "-- Chọn vai trò --",
                    new { @class = "form-select" })
                @Html.ValidationMessageFor(m => m.Role, "", new { @class = "text-danger" })
            </div>

            <div class="text-end">
                <a href="@Url.Action("Index", "Users", new { area = "Admin" })" class="btn btn-secondary">
                    <i class="fa-solid fa-arrow-left"></i> Quay lại
                </a>
                <button type="submit" class="btn btn-primary">
                    <i class="fa-solid fa-floppy-disk"></i> Lưu thay đổi
                </button>
            </div>
        }
    </div>
</div>
